"use strict";(self.webpackChunkthreejs_learning=self.webpackChunkthreejs_learning||[]).push([[257],{2144:(V,v,n)=>{n.d(v,{V:()=>w});class w{static randomFloat(t,i){return t+Math.random()*(i-t)}static randomSign(){return Math.random()>.5?1:-1}static randomGaussian(t=0,i=1){const P=1-Math.random(),p=Math.random();return Math.sqrt(-2*Math.log(P))*Math.cos(2*Math.PI*p)*i+t}static randomRadian(){return Math.random()*Math.PI*2}static degreeToRadian(t){return Math.PI/180*t}}},2257:(V,v,n)=>{n.r(v),n.d(v,{TravelingParticlesModule:()=>K});var w=n(6895),A=n(4462),t=n(1571),i=n(727),P=n(4968),p=n(2144),e=n(6682),W=n(7152);const Z=["canvas"],N=[{path:"",component:(()=>{class s{constructor(a){this.elementRef=a,this.subscription=new i.w0}ngAfterViewInit(){const a=this.elementRef.nativeElement,g=this.canvasElement.nativeElement,T={cityMap:(new e.dpR).load("assets/textures/voltfordrive/city-map.jpg")},M=a.querySelector('[data-id="svg-map"]'),z_width=Number(M?.getAttribute("width"))||0,z_height=Number(M?.getAttribute("height"))||0,X=[...M?M.querySelectorAll(".svg-map-path"):[]],O_x=-z_width/2,O_y=-z_height/2,C=[];X.forEach((y,c)=>{if(c%2==0)return;const o=y.getTotalLength(),u=Math.floor(o/10),L=[];for(let l=0;l<u;l++){const R=y.getPointAtLength(o*l/u),H={x:p.V.randomFloat(-4,4),y:p.V.randomFloat(-4,4)};L.push(new e.Pa4(R.x+O_x+H.x,R.y+O_y+H.y,0))}C.push({id:c,path:y,length:o,count:u,points:L,currentPos:0,speed:1})});const E=45*C.length,J=new Float32Array(3*E),Q=new Float32Array(E),x=new e.TlE(J,3),U=new e.TlE(Q,1),h=new e.cPb(70,a.clientWidth/a.clientHeight,.01,1e4);h.position.z=700;const m=new e.u9r;m.setAttribute("position",x),m.setAttribute("opacity",U);const $=new e.jyz({vertexShader:"#define GLSLIFY 1\nout vec2 vUv;\nout float vOpacity;\n\nattribute float opacity;\n\nvoid main() {\n  vUv = uv;\n  vOpacity = opacity;\n\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_PointSize = 18.0;\n  gl_Position = projectionMatrix * mvPosition;\n}\n",fragmentShader:"#define GLSLIFY 1\nin float vOpacity;\n\nvoid main() {\n  vec2 uv = vec2(gl_PointCoord.x, 1.0 - gl_PointCoord.y);\n  vec2 cUv = 2.0 * uv - 1.0;\n\n  vec3 originColor = vec3(4.0 / 255.0, 10.0 / 255.0, 20.0 / 255.0);\n\n  vec4 color = vec4(0.08 / length(cUv));\n  color.rgb = min(vec3(10.0), color.rgb);\n  color.rgb *= originColor * 120.0;\n  color *= vOpacity;\n\n  color.a = min(1.0, color.a) * 1.0;\n\n  float circle = 1.0 - length(cUv);\n\n  gl_FragColor = vec4(color.rgb, color.a);\n}\n",side:e.ehD,transparent:!0,depthTest:!1,depthWrite:!1,blending:e.WMw}),q=new e.woe(m,$),j=new e.vBJ({color:"#1a52d3",map:T.cityMap,transparent:!0});j.opacity=.2,T.cityMap.flipY=!1;const k=new e.Kj0(new e.BKK(2048,1024,1,1),j),b=new e.xsS;b.add(q),b.add(k);const r=new e.CP7({canvas:g,antialias:!0});r.setSize(a.clientWidth,a.clientHeight),r.setClearColor("#111"),r.setAnimationLoop(function _(y){if(I++,I%2==0)return;let c=0;C.forEach(o=>{o.currentPos+=o.speed,o.currentPos=o.currentPos%o.count;for(let u=0;u<45;u++){let l=o.points[(o.currentPos+u)%o.count];x.setXYZ(c,l.x,l.y,l.z),U.setX(c,u/45+p.V.randomFloat(-.3,.3)),c++}}),m.setAttribute("position",x),m.attributes.position.needsUpdate=!0,r.render(b,h)}),this.renderer=r;const B=new W.z(h,this.renderer.domElement);B.target.set(0,0,0),B.update(),this.subscription.add((0,P.R)(window,"resize").subscribe(()=>{h.aspect=a.clientWidth/a.clientHeight,h.updateProjectionMatrix(),r.setSize(a.clientWidth,a.clientHeight)}));let I=0}ngOnDestroy(){this.subscription.unsubscribe(),this.renderer.setAnimationLoop(null)}}return s.\u0275fac=function(a){return new(a||s)(t.Y36(t.SBq))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-template"]],viewQuery:function(a,g){if(1&a&&t.Gf(Z,5,t.SBq),2&a){let S;t.iGM(S=t.CRH())&&(g.canvasElement=S.first)}},decls:25,vars:0,consts:[["data-id","svg-map","xmlns","http://www.w3.org/2000/svg","width","2048","height","1024","viewBox","0 0 2048 1024",1,"svg-map"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 1","d","M292,1037S443.877,760.011,647,582L756,691,884,576l24,77s62.951-31.932,107-32l2,4s146.47-29.933,161-36,11.44,1.183,25-11,37.65-37.56,47-41,76,156,76,156,47.56-3.062,179,35l208,63s42.96-143.81,53-157,25.95-64.2,26-68,0,2,0,2,130.12-4.949,150-8,97.26-6.326,113-4",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 3","d","M1904-6s-6.63,49.423-8,60-6,49-6,49-26.3,180.866-26,188,0,7,0,7-236.64-4.365-245-4,4,154,4,154l-77,2s2.99,19.305-2,23,3.18,11.805,3,18,0,116,0,116-51,4.849-58,5-2,18-2,18-105.05-9.242-109-9-38,0-38,0l-7-24-40,16,18,41L1135,754s33.91,38.935,18,59-52,43-52,43-12.19.085-14,0-92,68-92,68-8.8.867-19,12-60,92-60,92",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 4","d","M298-6l28,23L287,58,387,166l-63,63L464,383l70-64,84,88,40-41,81,90s165.646-94.084,242-116,154-32,154-32l116,229s40.27-26.009,56-29,113.84-14.033,123-9l2,93,61,6-2,14s78.47-9.473,133-1c0,0-15.18,119.4,6,153l101,31s-12.76,109.682-5,113c0,0,104.63,13.546,138,17s103,17,103,17-31.9,82.06-37,88",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 5","d","M1293,1027l-62-111-19-31L1057,988s-35.41-48.044-73-78-100-95-100-95l-62-62-71,49-35-45-15-1-76,58s-32.554-14.514-46-8-113.353,80.845-119,87-29.007-34.438-44-44c0,0-1.64-10.346-15-16s-34-23-34-23l-70-94L473,544,335,410l39-37L277,273,438,111s40.968,38.6,41,43L617-10",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 6","d","M1498-20s-66.97,83.057-72,91-48,62-48,62l-44,41s66.13,48.5,107,52,88-2,88-2l7,56s-151.33,5.792-179,17l-149,14s-24.27-14.187-65-7c0,0-125.21,28.353-166,38,0,0-10.783,10.379-24-48s-39-167-39-167-133.649,24.416-187,88L618,113,482,261l-65,65L202,107s-32.67,37.354-42,44S-15,259-15,259",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 2","d","M1039-4l100,322s-138.77,28.06-160,41-94.242,55.153-99,58S768.85,472,691,534l7,7-47,38s-88.632-97-100-108c0,0-116.165,114.367-122,120s-90-89-90-89S232.516,610.558,224,615c0,0-22.994-37.881-43.116-49.51q-1.453-.84-2.884-1.49c-20.739-9.383-102.019,9.576-116,10S-5,563-5,563",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 7","d","M98,1029l1,2s2.986-45.59-7-55-13-13-13-13,64.545-57.255,99-119l5-6s-76.227-43.539-78-46c0,0,24.235-32.7,24-36l-20-18s4.219-17.249,25-18h4s10.815-20.48,15-21l24,10s13.724-32.644,25-31,12,5,12,5l7-11s26.725-13.515,30-19c0,0-54.444-80.467-70-87s-3-3-3-3L338,406s-79.658-65.89-95-97L345,206l-71-76,39-45-10-9,43-43,59,50L492-21",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 8","d","M2067,150s-67.95,7.764-75,8-26,0-26,0-4.93-7.1-7,25-1,34-1,34l-25-1s0.89,88.377-6,96c0,0-60.67-13.984-80-15,0,0-22.96-15.757-126-20h-78s6.54,88.869,9,111,38,315,38,315l-25,42-151-38s-14.42,33.564-27,42-79,84-79,84l43,93s59.14-22.7,115-10c0,0,12.4-2.95,13,6s1,104,1,104",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 9","d","M650,1029S768.751,928.92,804,916c0,0,11.355-7.891,24,15,0,0,68.785-50.835,91-86l-33-33s67.645-69.243,102-80,44-20,44-20L983,465l55-12a18.879,18.879,0,0,0,4-20c-4.4-12.274-7-11-7-11s-13.7-6.193-14.04-21.857c-0.01-.695,0-1.41.04-2.143,0,0,81.69-20.453,92-24,0,0,7.1-6.293,12,6s5,14,5,14l-11,7s4.13,28.395,24,22,38-19,38-19l-28-67s162.12-20.633,180-21,44.5,2.367,85,1,191-15,191-15-82.94-158.176,17-310",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 10","d","M-9,264l135,81,26-44s36.136,16.589,41,18,24,17,24,17L128,465l13,14s14.153-13.733,34,3,30,31,30,31l25-26,16,7,92-86L513,594l-28,21s-8.346,5.128,11,20l15,13s8.477,8.718-3,21l-11,20,30,25s95.757-107.645,122-129l359,349,86-72s60.97-45.391,79-53,153-114,153-114,71.59,110.621,81,137,76,177.08,77,193",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 11","d","M1291-12l-13,36,147,47-47,61s31.46,41.933,148,27l10,139s194.73,3.161,230,7l29,207,86-4s111.79-13.255,167-7",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 12","d","M2068,657s-19.12-8.761-34-5-202.33,21.169-225,16l-47-26-39,123s-315.3-91.669-398-92c0,0-14.99-20.86-32.26-57.3q-0.87-1.823-1.74-3.7c-18-38.725-158-303-158-303s-196.267,36.481-232,60l-8-1L619,113,730-18",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 13","d","M503,1035l39-31-9-15,68-33-48-71,102-35-31-38,74-53s2.609-42.8,53-73l5,5S875.52,578.873,883,576s-69-114-69-114,138.973-78.274,189-92,141-31,141-31l-62-219-15-45s34.32-6.659,41-19,19-68,19-68",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 14","d","M857-12s38.863,80.855,60,166,45,173,45,173-3.617,24.535,47,10,111.97-38.829,122-27,109,207,109,207,34.27-33.588,38-49c0,0,62.51-1.121,82-3s74-7,74-7,4.55,9.113,5,17-0.78,24.578-5,25,0,92,0,92l58,6-30,97s-111.25-25.413-140-22l63,126s-74.3,59.838-78,62-75,52-75,52l65,118",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 15","d","M2004-13s-10.76,179.234-9,211,2.73,132.292,2,134-142.38-48.948-375-46c0,0,.33,292.4,2,320s-2.62,134.3,7,157c0,0,9.13,4.933,4,14s-72,138-72,138,114.29,32.323,158,32l-1,90",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 16","d","M2053,445s-10.28-5.555-17-6-15.63-4.735-17,2-4,30-4,30-1.2,5.558-4,7-6,7-6,7v15l-208,17s-45.5,214.316-74,244l-57-14-65,132s116.35,24.886,124,27,125,16,125,16,1.88-108.586,2-112,0-3,0-3,133.28,2.363,149,2,45-.765,56,2",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 17","d","M2056,775s-92.89,14.445-139,15-150.12-10.626-194-29-165.93-42.576-232-60-166-31-166-31l-82-154s38.01-43.951,39-47,0,4,0,4,143.96-9.446,153-12l-13-163s1.46-6.908-12-5-190,17-190,17l-15-24s79.42-84.846,85-89,45.81-20.982,46-23,53-58,53-58-36.06-8.881-45-10-18.91-6.784-19-11-41-6-41-6-20.3-25.106,1-61L1191-7",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 18","d","M844,1027S953.252,893.991,962,883s80.94-68.341,87-76l-32-180L996,525l-54,19s-54.7,24.193-57,30S758,692,758,692L645,582,465,382l106-99,11,9,73-78-54-51s12.39-27.017,29-12l6,4,13-13L559,61l74-90",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 19","d","M303,1027s42.386-80,102-159S596.331,629.2,645,586c0,0,6.742-4.245-2-13s-95-103-95-103L770,256l-79-75s47.32-58.538,58-59,26,2,26,2,26.762-13.74,28-18-6-25-6-25a9.514,9.514,0,0,1-11-6c-3.216-7.907-11-28-11-28L866,8l-6-33",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 20","d","M-8,817l143,86s95.9-134.584,115-179,22-44,22-44-59.888-87.041-94-115l-73-67L240,310l-51-56,33-35-65-71,46-47L72-12",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 21","d","M-9,668S88.5,519.775,105,497,229.194,319.541,239,310s38-38,38-38L388,166,530,317l44-35,83,85,81,89s-113.265,74.974-122,89c0,0,174.9,176.615,185,187S958.714,879.187,960,883s103.94,105.8,107,143",1,"svg-map-path"],["data-name","\u0424\u0438\u0433\u0443\u0440\u0430 22","d","M1910-12l-10,42L1788,17s-8.73,44.506-14,46c0,0,1.36,13.4,2,40s-6,123-6,123l-6,59s-99.87-8.614-239-1-300.64,25.132-318,24-33-9-52-7c0,0-29.38-111.121-30-114s-6.83-10.97-4-26c0,0-2.53-9.917-8-11s-6-13-6-13,5.12-3.429,15-2,13.81-2.883,12-9-18-48-18-48,0.65-.293-10,3c0,0-5.94,3.84-8-3,0,0-14.23,1.817-10,10,0,0,.73,4.855,6,3s6.91-4.281,10,7,3,16,3,16-21.23,7.746-23,9-46-133-46-133",1,"svg-map-path"],[1,"canvas"],["canvas",""]],template:function(a,g){1&a&&(t.O4$(),t.TgZ(0,"svg",0),t._UZ(1,"path",1)(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21)(22,"path",22),t.qZA(),t.kcU(),t._UZ(23,"canvas",23,24))},styles:["[_nghost-%COMP%]{position:relative;height:100%;display:grid;place-items:center;background-color:#181818;overflow:hidden}.svg-map[_ngcontent-%COMP%]{display:none}.canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"]}),s})()}];let K=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[w.ez,A.Bz.forChild(N)]}),s})()}}]);